<!-- Header -->
<header>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">Edit Project</h2>
      </div>
    </div>
  </div>
</header>

<div id="accordion">
  <div class="card">
    <div class="card-header" id="potentials">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Manage Potentials
          
        </button>
      </h5>
    </div>
    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
      <div class="card-body">
         <div class="project-table-list">
          <table id="projects">
          <!--<thead>-->
          <!--  <tr>-->
          <!--    <th>User</th>-->
          <!--    <th>Manage</th>-->
          <!--  </tr>-->
          <!--  </thead>-->
            <tbody>
              <% if @project.potentials.length == 0 %>
                No potential users.
              <% end %>
              <% @project.potentials.each do |p| %>
                <tr>
                  <td>
                    <%= link_to p.name, user_path(p)  %>
                  </td>
                  <td>
                    <%= button_to "Approve", approve_path(@project, :user => p), :method => :post, class: "btn-primary" %>
                  </td>
                  <td>
                    <%= button_to "Reject", reject_path(@project, :user => p), :method => :post, class: "btn-primary" %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header" id="headingThree">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Manage Collaborators
        </button>
      </h5>
    </div>
    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
      <div class="card-body">
         <div class="project-table-list">
          <table id="projects">
          <!--<thead>-->
          <!--  <tr>-->
          <!--    <th>User</th>-->
          <!--    <th>Manage</th>-->
          <!--  </tr>-->
          <!--  </thead>-->
            <tbody>
              <% if @project.collaborators.length <= 1 %>
                You are the only collaborator. Find some friends!
              <% end %>
              <% @project.collaborators.each do |c| %>
                <tr>
                  <td>
                    <%= link_to c.name, user_path(c)  %>
                  </td>
                  <td>
                    <% if c == @project.creator %>
                      Project creator
                    <% else %>
                      <%= button_to "Delete", delete_collaborator_path(@project, :user => c), :method => :post, class: "btn-primary" %>
                    <% end %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<%= form_for @project do |f| %>
  <% if @project.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@project.errors.count, "error") %> prohibited this project from being saved:</h2>
      <ul>
      <% project.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <div class="Absolute-Center is-Responsive">
    <div class="form-group">
      <%= f.label :title %><br />
      <%= f.text_field :title, class: 'form-control formFields' %>
    </div>
    <div class="form-group">
      <%= f.label :summary %><br />
      <%= f.text_field :summary, class: 'form-control formFields', maxlength: 50 %>
    </div>
    <div class="form-group">
      <%= f.label :description, "Description" %><br />
      <%= f.text_area :description, class: 'form-control formFields', rows: 5, maxlength: 500 %>
    </div>
    <div class="form-group">
        <%= f.label :project_type, "Project Type" %><br />
        <%= f.select :project_type, ['Hobby', 'Academic', 'Startup'], {}, class: 'form-control formFields'%>
    </div>
    <div class="form-group">
      <%= f.label :tag_list, "Tags (separated by commas)" %><br />
      <%= f.text_field :tag_list, class: 'form-control formFields' %>
    </div>
    <center><%= f.submit "Update project", class: "btn-primary"%>
  <% end %>
</div>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>